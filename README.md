# 원티드 프리온보딩 챌린지 백엔드 26 사전과제

### 설명
지난 스프린트에서 사용자간에 물건을 거래할 수 있는 Wanted Market API를 개발했습니다. <br>
이번 스프린트에서는 결제 플랫폼, 포트원(구 아임포트)을 사용해서 결제 프로세스를 구현하려합니다. <br>
[포트원개발자센터](https://developers.portone.io/opi/ko/readme?v=v1)의 결제연동 문서를 확인하여 기본적인 결제 프로세스를 구축해주세요.

<br>
<br>

### 요구사항

0. 시간적 여유가 된다면 지난 과제를 진행해주세요. => [지난과제 바로가기](https://github.com/kst6294/wanted-preonboarding-challenge-backend-20) <br>
0-1. 지난 과제를 진행했다면, 용품을 구매할 때 결제가 진행되도록 해주세요. <br>
0-2. 지난 과제를 진행하지 않았다면, 바로 결제를 위한 기능을 구현해주세요.
1. v1, v2 모두 사용가능하지만 우선은 v1을 기준으로 진행해주세요.
2. 사용자간 거래에서 결제플랫폼을 통해 결제를 진행합니다.
3. 결제진행, 가상계좌, 결제취소 기능을 개발해주세요. (변경: 계좌이체 -> 가상계좌) <br>
3-1. 이 과정에서 결제 대행사는 임의로 설정하셔도 괜찮습니다. <br>
4. 결제연동문서를 자세히 보고 단순 기능 추가가 아닌 실제 결제가 진행된다는 관점에서 기능을 구현해주세요.
5. 다른 참여자분들의 PR을 읽어보면서 의견을 주고 받아주세요.
6. 개발 과정에서 어려웠던 부분이 있었다면, 기록을 남겨주세요.

### 업데이트
- 24.11.25: 가상계좌 생성, 결제 취소 요청/응답 결과 확인을 위한 Fake 서버 배포 예정(곧 배포)


#### 참고사항
- 포트원 회원가입을 하지 않아도 됩니다.
- 실제 결제가 진행되지 않아도 됩니다.
- 결제, 취소, 계좌이체를 진행할 때 고려해야할 요소가 무엇이 있을지 고민해보시면 좋겠습니다.
- 정답은 없습니다.


<br>
<br>


### 제출방법
- 이 Repository 를 fork 해주세요.
- feature/{name} 으로 브랜치를 생성해주세요. 예: feature/suntae-kim
- 과제를 진행해주세요.
- 소스코드를 Push 하고 PR을 올려주세요.
- 요구사항에 대해서 궁금한 점이나 이해가 안되는 부분이 있다면 이슈를 남겨주시거나, 편하게 연락주세요 - kst6294@gmail.com


---
1단계 (필수)
- 제품 등록과 구매는 회원만 가능합니다.
  - header 값의 Authorization 으로 구별
  - AOP 적용, @LoginCheck `CustomInterface 적용`

- 비회원은 등록된 제품의 목록조회와 상세조회만 가능합니다.
  - 동일하게 Authorization 유무로 판단

- 등록된 제품에는 "제품명", "가격", "예약상태"가 포함되어야하고, 목록조회와 상세조회시에 예약상태를 포함해야합니다.
  - 완료 
- 제품의 상태는 "판매중", "예약중", "완료" 세가지가 존재합니다.
  - 완료

판매자와 구매자는 제품의 상세정보를 조회하면 당사자간의 거래내역을 확인할 수 있습니다.
- 상세정보 조회는 비회원 / 회원 모두 사용할 수 있는 기능
  - 비회원 - 상품정보 only
  - 회원
    - 본인이 등록한 상품의 경우 (판매내역 `salesList`)
    - 타인이 등록한 상품의 경우 (해당 상품의 구매내역 `purchaseList`)

구매자가 제품의 상세페이지에서 구매하기 버튼을 누르면 거래가 시작됩니다.

모든 사용자는 내가 "구매한 용품(내가 구매자)"과 "예약중인 용품(내가 구매자/판매자 모두)"의 목록을 확인할 수 있습니다.

판매자는 거래진행중인 구매자에 대해 '판매승인'을 하는 경우 거래가 완료됩니다.